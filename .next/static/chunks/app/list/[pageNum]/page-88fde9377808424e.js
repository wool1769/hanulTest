(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{1791:function(e,t,n){Promise.resolve().then(n.bind(n,5345))},5345:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var c=n(7437),s=n(9222),a=n(2265),i=n(1396),l=n.n(i),o=n(4033);function d(e){let t=(0,o.useRouter)(),[n,i]=(0,a.useState)([]),[d,h]=(0,a.useState)(.5),m=e.params.pageNum,u=decodeURIComponent(e.searchParams.search);(0,a.useEffect)(()=>{s.Z.post("/api/content").then(t=>{let n="/api/content?pagenum=".concat(m);void 0!=u&&(n+="&search=".concat(encodeURIComponent(e.searchParams.search))),s.Z.get(n).then(e=>{let t=e.data;i(t.content),h(t.datacount)})})},[u]);let x=[],p=Math.ceil(d/10),j=Math.ceil(p/5)-1,g=Math.floor((m-1)/5),v=1!=m?"prev":"blind",f=p!=m?"next":"next blind",N=5;g!=j||(N=p%5);let b="",C="",w="",S="blind";void 0!=e.searchParams.search&&(b="?search=".concat(encodeURIComponent(u)),C=u,w="blind",S=""),x.push((0,c.jsx)("div",{className:0!=g?"dprev":"blind",children:(0,c.jsx)(l(),{href:"/list/".concat((g-1)*5+1).concat(b)})})),x.push((0,c.jsx)("div",{className:v,children:(0,c.jsx)(l(),{href:"/list/".concat(m-1).concat(b)})}));for(let e=0;e<N;e++)x.push((0,c.jsx)("div",{children:(0,c.jsx)(l(),{href:"/list/".concat(e+1+5*g).concat(b),children:e+1+5*g})}));x.push((0,c.jsx)("div",{className:f,children:(0,c.jsx)(l(),{href:"/list/".concat(Number(m)+1).concat(b)})})),x.push((0,c.jsx)("div",{className:g!=j?"dnext":"blind",children:(0,c.jsx)(l(),{href:"/list/".concat((g+1)*5+1).concat(b)})}));let[M,_]=(0,a.useState)("");return(0,c.jsxs)("div",{className:"wrap",children:[(0,c.jsxs)("div",{className:"listTop",children:[(0,c.jsx)("h2",{children:"공지사항"}),(0,c.jsxs)("div",{className:"search-bar",children:[(0,c.jsx)("input",{type:"text",defaultValue:C,placeholder:"검색어",onKeyDown:e=>{let n=encodeURIComponent(M);console.log(">??"),"Enter"===e.key&&M.length>0&&t.push("/list/1?search=".concat(n))},onChange:e=>_(e.target.value)}),(0,c.jsxs)("button",{children:[(0,c.jsx)("img",{id:"cherchimg",className:w,src:"/img/Search_common.png",alt:"",width:24,height:24}),(0,c.jsx)("img",{onClick:()=>t.push("/list/1"),className:S,src:"/img/Clearbtn.png",alt:"",width:24,height:24})]})]})]}),(0,c.jsxs)("div",{className:"contentsBox",children:[(0,c.jsx)("div",{id:"noContent",className:0==d?"visible":"blind",children:"공지사항이 없습니다."}),(0,c.jsx)("div",{id:"lodingBox",className:.5==d?"visible":"blind",children:(0,c.jsxs)("div",{className:"dot-container",children:[(0,c.jsx)("div",{className:"dot"}),(0,c.jsx)("div",{className:"dot"}),(0,c.jsx)("div",{className:"dot"})]})}),n.map((e,t)=>(0,c.jsx)(r,{content:e},e.id))]}),(0,c.jsx)("div",{id:"pageBtn",className:0==d?"blind":"",children:x})]})}function r(e){let t,n;t=e.content.title.length<=100?e.content.title:e.content.title.slice(0,100)+"...";let s=new Date,a=new Date(e.content.date),i=Math.floor((s.getTime()-a.getTime())/1e3),o=a.getFullYear(),d=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return n=i/60/60/24>=1?"".concat(o,". ").concat(d,". ").concat(r):i/60/60>=1?"".concat(Math.floor(i/60/60),"시간 전"):i/60>=1?"".concat(Math.floor(i/60),"분 전"):"방금전",(0,c.jsxs)("div",{className:"contentBox",children:[(0,c.jsx)("h3",{className:"contentTitle",children:(0,c.jsx)(l(),{href:"/detail/".concat(e.content.id),children:t})}),(0,c.jsx)("p",{className:"contentDate",children:n})]})}},1396:function(e,t,n){e.exports=n(6685)}},function(e){e.O(0,[540,685,971,596,744],function(){return e(e.s=1791)}),_N_E=e.O()}]);